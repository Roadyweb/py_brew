{% extends "layout.html" %}

{% block head %}
    {{ super() }}
    <meta http-equiv="refresh" content="5" >
{% endblock %}

{% block body %}
    {% if data %}
        <h2>Recipe Name: {{ data.name }}</h2>
        <br />
        Created: {{ data.created }}<br />
        Last Saved: {{ data.last_saved }}<br /><br />
        Settings:
        <table>
        {% for entry in data.list %}
            <tr>
            <td>Temp: {{ entry[0]|safe }} Â°C</td>
            <td>Dura: {{ entry[1]|safe }} s</td>
            </tr>
        {% else %}
            <em>No entries</em>
        {% endfor %}
        </table>
    {% endif %}

    {% if state %}
    	<p>State:</p>
        Temp1: {{ state.temp1 }}<br />
        Temp2: {{ state.temp2 }}<br />
        Temp3: {{ state.temp3 }}<br />
        Relais1: {{ state.relais1 }}<br />
        Relais2: {{ state.relais2 }}<br />
        Relais3: {{ state.relais3 }}<br />
        Thread State: {{ state.thread }}<br />
    {% else %}
        <p>No current data available</p>
    {% endif %}
    <br />
    <form action="." method="POST">
        <input type="submit" name="submit" value="Start">
        <input type="submit" name="submit" value="Monitor">
        <input type="submit" name="submit" value="Cook">
        <input type="submit" name="submit" value="Exit">
    </form>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class=flashes>
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
        </ul>
        {% endif %}
    {% endwith %}
{% endblock %}
